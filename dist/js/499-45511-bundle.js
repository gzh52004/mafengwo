(self.webpackChunkmafengwo=self.webpackChunkmafengwo||[]).push([[499],{2401:(e,r,a)=>{"use strict";a.d(r,{Z:()=>s});var t=a(2867);const s=a.n(t)().create({baseURL:"http://47.107.122.219:6999"})},4499:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>b}),a(3837);var t=a(3422),s=a.n(t),n=(a(318),a(5892)),l=a.n(n),o=(a(3429),a(5993)),u=a.n(o),c=(a(3452),a(9257)),i=a.n(c),h=(a(9861),a(6190)),p=a.n(h),d=(a(4754),a(4576)),g=a.n(d),m=(a(5199),a(3237)),E=a.n(m),v=a(7401),k=a(1897),f=a(7669),w=a.n(f),C=a(2401),y=a(3379),Z=a.n(y),x=a(3050);Z()(x.Z,{insert:"head",singleton:!1}),x.Z.locals;const b=()=>{let e=(0,k.k6)(),r={hasError:!1,value:"",password:"",hasuser:!1},[a,t]=(0,v.useState)(r);return v.createElement("div",null,v.createElement(p(),{mode:"dark",leftContent:"Back",onLeftClick:()=>{e.goBack()},rightContent:[v.createElement(g(),{key:"1",type:"ellipsis"})]},"免费注册"),v.createElement(u(),{renderHeader:()=>"注册"},v.createElement(i(),{type:"text",placeholder:"请输入账号",error:a.hasError,onErrorClick:()=>{a.hasError&&E().info("账号最少为6位")},onChange:e=>{e.replace(/\s/g,"").length<6?t({...r,hasError:!0,value:e}):t({...r,hasError:!1,value:e})},onBlur:()=>{!a.hasError&&a.value&&C.Z.get("/user/checkuse",{params:{username:a.value}}).then((e=>{e.data.code?(E().fail(e.data.msg,1),t({...a,hasuser:!1})):(E().success(e.data.msg,1),t({...a,hasuser:!0}))}))},value:a.value},"账号"),v.createElement(i(),{type:"password",clear:!0,placeholder:"输入密码",value:a.password,onChange:e=>{t({...a,password:e})}},"密码")),v.createElement(s(),{style:{marginTop:"20px",textAlign:"center"}},v.createElement(l(),{onClick:()=>{if(!a.hasuser)return void E().fail("注册失败,用户名已被使用",1);let r=w().SHA256(a.password).toString();C.Z.post("/user/reg",{username:a.value,password:r}).then((()=>{E().success("注册成功",1),e.push({pathname:"/login",state:{username:a.value}})}))},type:"ghost",inline:!0,size:"small",style:{marginRight:"4px"}},"注册"),v.createElement(l(),{onClick:()=>{e.push("/login")},type:"ghost",inline:!0,size:"small",style:{marginRight:"4px"}},"登录")))}},3050:(e,r,a)=>{"use strict";a.d(r,{Z:()=>n});var t=a(8814),s=a.n(t)()((function(e){return e[1]}));s.push([e.id,"",""]);const n=s}}]);